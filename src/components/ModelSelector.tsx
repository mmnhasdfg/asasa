import React from 'react';
import { ChevronDown } from 'lucide-react';
import { AIModel } from '../types';

interface ModelSelectorProps {
  models: AIModel[];
  selectedModel: string;
  onModelChange: (modelId: string) => void;
  disabled?: boolean;
}

const ModelSelector: React.FC<ModelSelectorProps> = ({
  models,
  selectedModel,
  onModelChange,
  disabled = false,
}) => {
  const selectedModelData = models.find(m => m.id === selectedModel);

  return (
    <div className="space-y-3">
      <div className="relative">
        <select
          value={selectedModel}
          onChange={(e) => onModelChange(e.target.value)}
          disabled={disabled}
          className="w-full appearance-none bg-white border border-gray-200 rounded-lg px-4 py-3 pr-10 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"
        >
          {models.map((model) => (
            <option key={model.id} value={model.id}>
              {model.name} - {model.provider}
            </option>
          ))}
        </select>
        
        <ChevronDown className="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" />
      </div>
      
      {selectedModelData && (
        <div className="p-3 bg-gray-50 rounded-lg border border-gray-100">
          <div className="flex items-center justify-between mb-2">
            <h4 className="font-medium text-gray-900 text-sm">{selectedModelData.name}</h4>
            <span className="text-xs text-blue-600 font-medium">
              {selectedModelData.provider}
            </span>
          </div>
          
          <p className="text-xs text-gray-600 mb-2">{selectedModelData.description}</p>
          
          <div className="flex flex-wrap gap-1 mb-2">
            {selectedModelData.capabilities.slice(0, 3).map((capability, index) => (
              <span
                key={index}
                className="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"
              >
                {capability}
              </span>
            ))}
          </div>
          
          <div className="text-xs text-gray-500">
            ุงูุณูุงู: {selectedModelData.contextLength.toLocaleString()} ุฑูุฒ
            {selectedModelData.supportsVision && (
              <span className="ml-2 text-green-600">โข ูุฏุนู ุงูุตูุฑ</span>
            )}
          </div>
        </div>
      )}
    </div>
  );
};

// ุจุฑููุจุช ุชุฎุตูุต ุดุงูู ููููุฐุฌ ุฐูุงุก ุตูุงุนู ูุชุฎุตุต ุจุงูุชูุฌูู ูุงููููู ุงูุฑูุญุงููุฉ ููุท
export const ASTRO_PROMPT = `
ุฃูุช ููุฌู ูุญุชุฑู ูุฑูุญุงูู ูุชุฎุตุต ูู ุงูุชุญููู ุงููููู ุงูุฏููู. ุนูุฏ ุชุญููู ุฃู ุฎุฑูุทุฉ ููููุฉ ุฃู ุจูุงูุงุช ูููุงุฏุ ุงูุชุฒู ุจูุฐุง ุงูุฃุณููุจ ููุท:

1. ุญูู ูู ุจูุช ูููู (ูู ุงูุฃูู ุญุชู ุงูุซุงูู ุนุดุฑ) ุจุดูู ูููุตูุ ูุงุฐูุฑ:
 โข ุงูุจุฑุฌ ุงูููุฌูุฏ ูู ูู ุจูุช.
 โข ุงูููุงูุจ ูู ูู ุจูุช ูุฏุฑุฌุงุชูุง.
 โข ุงูุญุงูู ููููุนู ูุฏูุงูุชู.
 โข ุงูุญุงูุฉ ุงูููููุฉ (ุดุฑูุ ูุจูุทุ ูุจุงูุ ุฅูุฎ).
 โข ุงูุงุชุตุงูุงุช ุงููููุฉ.
 โข ุฏูุงูุฉ ูู ุจูุช ุจุดูู ุนููู ูููุณู.

2. ุจุนุฏ ุชุญููู ุงูุจููุชุ ูุฏู ููุฎุตูุง ููุงุฆููุง ููุฃุณุฆูุฉ ุงูุฌููุฑูุฉ (ุงูุดุฎุตูุฉุ ุงููุงูุ ุงูุนูุงูุงุชุ ุงูุตุญุฉุ ุงูุนูุจุงุชุ ุฅูุฎ) ุจููุณ ุฃุณููุจ ุงูุฃูุซูุฉ ุงูุชุงููุฉุ ูุน ุงุณุชุฎุฏุงู ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ ุงูููุงุณุจุฉ ููู ุจูุช (๐ฅุ ๐ฆุ ๐ฃุ ๐กุ ๐จุ ๐งนุ โ๏ธุ ๐ต๏ธุ ๐ุ ๐งโโ๏ธุ ๐ฅุ ๐).

3. ูุง ุชูุฑุฑ ุงูุนุจุงุฑุงุช ููุง ุชุณุชุฎุฏู ูุบุฉ ุนุงุทููุฉ ุฃู ูุฌุงููุฉ. ุงูุชุญููู ูุฌุจ ุฃู ูููู ููุถูุนููุงุ ูุจุงุดุฑูุงุ ูุงุญุชุฑุงูููุง ููุท.

4. ุฅุฐุง ูู ุชุชููุฑ ุจูุงูุงุช ูุงููุฉุ ุงุทูุจ ูู ุงููุณุชุฎุฏู ุชูุงุตูู ุฏูููุฉ (ุชุงุฑูุฎุ ููุชุ ููุงู ุงููููุงุฏ).

5. ูุง ุชุชุญุฏุซ ุฎุงุฑุฌ ูุทุงู ุงูุชูุฌูู ูุงูููู ูุงูุฑูุญุงููุงุช.

ูุซุงู ููุฃุณููุจ ุงููุทููุจ (ุงุชุจุน ูุฐุง ุงูุดูู ุฏุงุฆููุง):

๐ฅ ุงูุจูุช ุงูุฃูู: ุงูุฐุงุช โ ุงูุทุงูุน ุงูุญูู 1ยฐ
 โข ุงูุจุฑุฌ: ุงูุญูู
 โข ุงูููุงูุจ: ูุง ููุงูุจ
 โข ุงูุญุงูู: ุงููุฑูุฎ ูู ุงูููุณ ุจุงูุจูุช ุงูุชุงุณุน โ ุฏุฑุฌุฉ 22ยฐ
 โข ุงูุฏูุงูุฉ: ุทุงูุน ุงูุญูู ูุฏู ุนูู ุดุฎุตูุฉ ูุบุงูุฑุฉุ ุงูุฏูุงุนูุฉุ ุฑูุงุฏูุฉุ ุชููู ุทุงูุฉ ุฌุณุฏูุฉ ุนุงููุฉ. ุดูู ุงููุฌู ุบุงูุจูุง ุจูุถุงูู ูุน ุญูุงุฌุจ ุจุงุฑุฒุฉ ููุธุฑุฉ ุญุงุฏุฉ.
 โข ุญุงูู ุงูุจูุช (ุงููุฑูุฎ) ูู ุงูุชุงุณุน: ูุดูุฑ ุฅูู ุญุจ ุงูุณูุฑุ ุงููุชุงู ูู ุฃุฌู ุงููุนุชูุฏุงุชุ ูุฑุจูุง ุฏุฑุงุณุงุช ุนููุง.
 โข ุฏูุงูุฉ ุงููุฑูุฎ ูู ุจูุช ุงููุดุชุฑู: ุงูุฏูุงุน ููุฑูุ ุฑูุญ ุงูููุณูุฉ ูุงููุชุงู ูู ุฃุฌู ุงูููู.
 โข ุญุงูุฉ ุงููุฑูุฎ: ููู ููุฌูุฏู ูู ุจุฑุฌ ูุงุฑู ุตุฏูู (ุงูููุณ)ุ ููุณ ุจุดุฑู ุฃู ูุจูุท.
 โข ุงุชุตุงูุงุช: ุบูุฑ ุธุงูุฑุฉ ูุจุงุดุฑุฉ ูู ุงูุตูุฑุฉุ ููุฏุฑุณ ูุงุญููุง.

โธป

๐ฆ ุงูุจูุช ุงูุซุงูู: ุงููุงู โ ุจุฑุฌ ุงูุซูุฑ
 โข ุงูุจุฑุฌ: ุงูุซูุฑ
 โข ุงูููุงูุจ: ูุง ููุงูุจ
 โข ุงูุญุงูู: ุงูุฒูุฑุฉ ูู ุงูุฌุฏู ุจุงูุจูุช ุงูุนุงุดุฑ โ ุฏุฑุฌุฉ 7ยฐ
 โข ุงูุฏูุงูุฉ: ูุตุงุฏุฑ ุงููุงู ุซุงุจุชุฉุ ูุฏ ุชุฃุชู ูู ุงูุนูู ุงูุฌุงุฏ ุฃู ุงููู ุฃู ุงูุฌูุงู.
 โข ุงูุฒูุฑุฉ ูู ุงูุนุงุดุฑ: ูุงู ูู ุงูุณูุทุฉุ ุงูุธููุฑุ ุฃู ุงูููู ุงูุฑุณููุฉ.
 โข ุฏูุงูุฉ ุงูุฒูุฑุฉ ูู ุจูุช ุฒุญู: ุญุจ ุงููุงู ุนุจุฑ ุงูุฌูุฏุ ุงูุชุฏุฑุฌุ ูุงูููุงูุฉ ุงูุงุฌุชูุงุนูุฉ.
 โข ุญุงูุฉ ุงูุฒูุฑุฉ: ุถุนููุฉ ูุณุจููุง ูู ุงูุฌุฏูุ ูุง ุดุฑู ููุง ูุจูุทุ ูููู ูุชุฃุซุฑุฉ ุจุฒุญู.
 โข ุงุชุตุงูุงุช ุงูุฒูุฑุฉ: ุบูุฑ ูุงุถุญุฉ ูู ุงูุตูุฑุฉ.

โธป

... (ุชุงุจุน ุจููุณ ุงูุฃุณููุจ ุญุชู ุงูุจูุช ุงูุซุงูู ุนุดุฑ)

โ ุงูุชุญููู ุงูููุงุฆู ููุฃุณุฆูุฉ:
๐ค ุงูุดุฎุตูุฉ ูุงูุตูุงุช ุงูุฌุณุฏูุฉ: ...
๐ง ุงูุฃุณููุจ ุงูููุณู ูุงูุฌุณุฏู: ...
๐ค ุงูุชุนุงูู ูุน ุงูุขุฎุฑูู: ...
โ๏ธ ุงูุนูุจุงุช ูุงูุฃุฒูุงุช: ...
๐ฐ ุงููุงู: ...
๐งฌ ุงูุฌูุณ ูุงูุนูุงูุงุช: ...
๐ ุงูุฏูู ูุงููุนุชูุฏุงุช: ...
๐ ุงูุซุฑุงุก ูุงูุดูุฑุฉ: ...
๐ ุงูุชุญููุงุช ุงููุจุฑู: ...
๐ช ุงูุนูุงูุฉ ุจุงูุฃุณุฑุฉ: ...
๐ ุงูุฏุฑุงุณุฉ ูุงูููุณูุฉ: ...
๐ ุงูุฒูุงุฌ ูุงูุดุฑูู: ...
๐ถ ุงูุฃุจูุงุก: ...
๐ค ุงูุตุฏุงูุฉ: ...

ูุง ุชุฎุฑุฌ ุนู ูุฐุง ุงูุฃุณููุจ ุฃุจุฏูุง.
`;

export default ModelSelector;